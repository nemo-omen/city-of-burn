{
  "version": 3,
  "sources": ["../src/Game.ts"],
  "sourcesContent": ["import { Character, Actor, Entity, Location } from './index';\ntype Callback =\n  | ((event: CustomEvent) => void)\n  | ((event: CustomEvent) => Promise<void>);\n\nclass Channel {\n  name: string;\n  callback: Callback;\n\n  constructor (name: string, callback: Callback) {\n    this.name = name;\n    this.callback = callback;\n  }\n}\n\nclass Character {\n\n}\n\ntype Handler<T> = { (data: T): void; };\n\ninterface ILiteEvent<T> {\n  on(handler: { Handler; }): void;\n  off(handler: { Handler; }): void;\n}\n\nclass LiteEvent<T> implements ILiteEvent<T> {\n  private handlers: { Handler; }[] = [];\n\n  public on(handler: { Handler; }): void {\n    this.handlers.push(handler);\n  }\n\n  public off(handler: { Handler; }): void {\n    this.handlers = this.hhandlers.filter((h) => h !== handler);\n  }\n\n  public trigger(data?: T) {\n    this.handlers.slice(0).forEach((h) => h(data));\n  }\n\n  public expose(): ILiteEvent<T> {\n    return this;\n  }\n}\n\nexport class Game {\n  messageCounter = 0;\n  public characters: Map<string, Character> = new Map();\n  private readonly onUpdate = new LiteEvent<string>();\n\n  public get Updated() { return this.onUpdate.expose(); };\n\n  parseCommand(command: string) {\n    console.log(`command #${++this.messageCounter} received: ${command}.`);\n  }\n\n  update(data: unknown) {\n    this.onUpdate.trigger(data);\n  }\n\n  join(character: Character) {\n    this.characters.set(character.name, character);\n  }\n\n  disconnectSocket(socketId: string) {\n    const charArray = Array.from(this.characters.values());\n    const disconnectedCharacter = charArray.filter((character) => character.socketId === socketId)[0];\n    this.characters.delete(disconnectedCharacter.name);\n    console.log(this.characters);\n  }\n\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,MAAM,QAAQ;AAAA,EACZ;AAAA,EACA;AAAA,EAEA,YAAa,MAAc,UAAoB;AAC7C,SAAK,OAAO;AACZ,SAAK,WAAW;AAAA,EAClB;AACF;AAEA,MAAM,UAAU;AAEhB;AASA,MAAM,UAAsC;AAAA,EAClC,WAA2B,CAAC;AAAA,EAE7B,GAAG,SAA6B;AACrC,SAAK,SAAS,KAAK,OAAO;AAAA,EAC5B;AAAA,EAEO,IAAI,SAA6B;AACtC,SAAK,WAAW,KAAK,UAAU,OAAO,CAAC,MAAM,MAAM,OAAO;AAAA,EAC5D;AAAA,EAEO,QAAQ,MAAU;AACvB,SAAK,SAAS,MAAM,CAAC,EAAE,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC;AAAA,EAC/C;AAAA,EAEO,SAAwB;AAC7B,WAAO;AAAA,EACT;AACF;AAEO,MAAM,KAAK;AAAA,EAChB,iBAAiB;AAAA,EACV,aAAqC,oBAAI,IAAI;AAAA,EACnC,WAAW,IAAI,UAAkB;AAAA,EAElD,IAAW,UAAU;AAAE,WAAO,KAAK,SAAS,OAAO;AAAA,EAAG;AAAA,EAEtD,aAAa,SAAiB;AAC5B,YAAQ,IAAI,YAAY,EAAE,KAAK,4BAA4B,UAAU;AAAA,EACvE;AAAA,EAEA,OAAO,MAAe;AACpB,SAAK,SAAS,QAAQ,IAAI;AAAA,EAC5B;AAAA,EAEA,KAAK,WAAsB;AACzB,SAAK,WAAW,IAAI,UAAU,MAAM,SAAS;AAAA,EAC/C;AAAA,EAEA,iBAAiB,UAAkB;AACjC,UAAM,YAAY,MAAM,KAAK,KAAK,WAAW,OAAO,CAAC;AACrD,UAAM,wBAAwB,UAAU,OAAO,CAAC,cAAc,UAAU,aAAa,QAAQ,EAAE;AAC/F,SAAK,WAAW,OAAO,sBAAsB,IAAI;AACjD,YAAQ,IAAI,KAAK,UAAU;AAAA,EAC7B;AAEF;",
  "names": []
}
